> 来源 <http://uusama.com/401.html>

## 1. 常用命令

### 1.1 编辑

以下命令在命令模式执行

1. i，a，r：在光标的前，后，上方插入字符命令(i=insert,a=append,r=replace)
2. O，o：在当前行前面，后面插入一空行
3. cw，dw：改变(置换)/删除光标所在处的**单词**的命令 (c=change,d=delete)
4. x，d$，dd：删除光标处，光标之后，光标所在行的字符

### 1.2 光标移动

1. k，j，h，l：分别上下左右移动光标
2. Ctrl+f，Ctrl+b：分别向下，向上翻页
3. n：敲数字然后回车，光标往后移动 n 行
4. nG：使得光标跳动到指定行
5. w，b：使光标向前或向后跳过一个**单词**
6. ma，mb，mc：光标移动到起始行，结束行，粘贴行
7. w或W：光标右移一个字至字首
8. b或B：光标左移一个字至字首
9. e或E：光标右移一个字至字尾
10. (，)：光标分别移至句首，句尾
11. {，}：光标分别移至段落开头，结尾
12. H，M，L：光标移至屏幕顶行，中间行，最后行
13. 0：（注意是数字零）光标移至当前行首
14. $：光标移至当前行尾

### 1.3 删除

1. ndw 或 ndW：删除光标处开始及其后的n-1个字
2. do：删至行首
3. d$：删至行尾
4. ndd：删除当前行及其后n-1行
5. x 或 X：删除一个字符，x删除光标后的，而X删除光标前的
6. Ctrl+u：删除输入方式下所输入的文本
7. n1,n2 d：将n1行到n2行之间的内容删除
8. %d：删除全部内容
9. 1,$d：删除全部内容

### 1.4 查找

1. /abc：从光标开始处向文件尾搜索abc
2. ?abc：从光标开始处向文件首搜索abc
3. /\/abc：从光标开始处向文件尾搜索/abc，其中/是转义
4. n：在同一方向重复上一次搜索命令
5. N：在反方向上重复上一次搜索命令

### 1.5 替换

1. s/vivian/sky/：替换当前行第一个 vivian 为 sky
2. s/vivian/sky/g：替换当前行所有 vivian 为 sky
3. n,$s/vivian/sky/：替换第 n 行开始到最后一行中每一行的第一个 vivian 为 sky
4. n,$s/vivian/sky/g：替换第 n 行开始到最后一行中每一行所有 vivian 为sky
5. %s/vivian/sky/g：（等同于 g/vivian/s//sky/） 替换每一行的每一个 vivian 为 sky
6. s#vivian/#sky/#：替换当前行第一个 vivian/ 为 sky/（可以使用 #或+作为分隔符，此时中间出现的 / 不会作为分隔符）
7. s/p1/p2/g：将当前行中所有p1均用p2替代
8. n1,n2s/p1/p2/g：将第n1至n2行中所有p1均用p2替代
9. g/p1/s//p2/g：将文件中所有p1均用p2替换

### 1.6 复制粘贴

1. yy：复制当前行
2. nyy：复制当前行开始的n行
3. 先按 v 然后方向键选择区域，按 y 复制选中行
4. dd：剪切当前行
5. p（小）：在当前光标处下面粘贴内容。
6. P（大）：在当前光标处上面粘贴内容
7. n1,n2 co n3：将n1行到n2行之间的内容拷贝到第n3行下
8. n1,n2 m n3：将n1行到n2行之间的内容移至到第n3行下

## 2 常用选项

### 2.1 编辑器选项

1. set number：显示行号
2. set number!：不显示行号，其它选项同理加！号
3. set all：列出所有选项设置情况
4. set ignorance：在搜索中忽略大小写
5. set list：显示制表位(Ctrl+I)和行尾标志（$)
6. set warn：在转到别的文件时若没保存当前文件则显示NO write信息
7. set nowrapscan：禁止vi在搜索到达文件两端时，又从另一端开始
8. set mesg：允许vi显示其他用户用write写到自己终端上的信息

### 2.2 编辑器保存

1. :wq  ：保存并退出
2. :q!   ：不保存退出
3. :w    ：保存更改
4. U：撤销更改
5. Ctrl+r：重做，用于撤销的更改恢复

 